{% load static %}

<html>
<meta charset="utf-8">
<title>Trojsten Graph</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="{% static 'people/graph.js' %}"></script>

<body style="margin: 0; padding: 0">
<canvas id="graph-canvas"></canvas>
<script>
    const canvas = document.getElementById('graph-canvas');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const params = new URLSearchParams(window.location.search);
    $.getJSON("{% url 'graph_data' %}" + "?" + params.toString(), function(graph) {
        const preprocessor = new GraphDataPreprocessor(graph);
        const renderer = new GraphRenderer(graph, canvas);
        const simulation = new GraphSimulation(canvas, graph, renderer);
    });
</script>
</body>
